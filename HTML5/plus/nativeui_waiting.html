<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
		<meta name="misapplication-tap-highlight" content="no"/>
		<meta name="HandheldFriendly" content="true"/>
		<meta name="MobileOptimized" content="320"/>
		<title>Hello H5+</title>
		<script type="text/javascript" src="../js/common.js"></script>
		<script type="text/javascript">
// H5 plus事件处理
function plusReady(){
}
if(window.plus){
	plusReady();
}else{
	document.addEventListener("plusready",plusReady,false);
}
function defaultWaiting(){
/*showWaiting:显示系统等待对话框
Waiting plus.nativeUI.showWaiting( title, options );			
说明：创建并显示系统样式等待对话框，并返回等待对话框对象Waiting，显示后需调用其close方法进行关闭。
title: ( String ) 可选 等待对话框上显示的提示标题内容
options: ( WaitingOptions ) 可选 等待对话框的显示参数.可设置等待对话框的宽、高、边距、背景等样式。
返回值：Waiting : Waiting对象

Waiting:系统等待对话框对象
说明：可通过plus.nativeUI.showWaiting方法创建，用于控制系统样式等待对话框的操作，如关闭、设置标题内容等。
方法：
setTitle: 设置等待对话框上显示的文字内容.wobj.setTitle( title );
close: 关闭显示的系统等待对话框.wobj.close();
事件：
onclose: 等待对话框关闭事件.wobj.onclose = function() {}

WaitingOptions:JSON对象，原生等待对话框的参数
属性：
width: (String 类型 )等待框背景区域的宽度
height: (String 类型 )等待框背景区域的高度
color: (String 类型 )等待框中文字的颜色
size: (String 类型 )等待框中文字的字体大小
textalign: (String 类型 )等待对话框中标题文字的水平对齐方式
padding: (String 类型 )等待对话框的内边距
background: (String 类型 )等待对话框显示区域的背景色
style: (String 类型 )等待对话框样式.可取值"black"、"white"，black表示等待框为黑色雪花样式，通常在背景主色为浅色时使用；white表示等待框为白色雪花样式，通常在背景主色为深色时使用。 仅在iOS平台有效，其它平台忽略此值，未设置时默认值为white。
modal: (Boolen 类型 )等待框是否模态显示.模态显示时用户不可操作直到等待对话框关闭，否则用户在等待对话框显示时也可操作下面的内容，未设置时默认为true。
round: (Number 类型 )等待框显示区域的圆角
padlock: (Boolen 类型 )点击等待显示区域是否自动关闭
back: (String 类型 )返回键处理方式.可取值"none"表示截获处理返回键，但不做任何响应；"close"表示截获处理返回键并关闭等待框；"transmit"表示不截获返回键，向后传递给Webview窗口继续处理（与未显示等待框的情况一致）。
loading: (WaitingLoadingOptions 类型 )自定义等待框上loading图标样式*/
    var w=plus.nativeUI.showWaiting("处理中，请等待...\n5");
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待...\n"+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);
}
function nomodalWaiting(){
	var w=plus.nativeUI.showWaiting("处理中，请等待...\n5",{modal:false});
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待...\n"+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);
}
function padlockWaiting(){
	var w=plus.nativeUI.showWaiting("处理中，请等待...\n5", {padlock:true});
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待...\n"+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);
}
function customWaiting(){
/*loading: (WaitingLoadingOptions 类型 )自定义等待框上loading图标样式
WaitingLoadingOptions:JSON对象，原生等待对话框上loading图标自定义样式
属性：
display: (String 类型 )loading图标显示样式.可取值： "block"表示图标与文字分开两行显示，上面显示loading图标，下面显示文字； "inline"表示loading图标与文字在同一行显示，左边显示loading图标，右边显示文字； "none"表示不显示loading图标；
icon: (String 类型 )loading图标路径.自定义loading图标的路径，png格式，并且必须是本地资源地址； loading图要求宽是高的整数倍，显示等待框时按照图片的高横向截取每帧刷新。
interval: (Number 类型 )loading图每帧刷新间隔.单位为ms（毫秒），默认值为100ms。*/
	var w=plus.nativeUI.showWaiting("处理中，请等待...\n5", {loading:{icon:"/img/waiting.png"}});
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待...\n"+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);
}
function lineWaiting(){
	var w=plus.nativeUI.showWaiting("处理中，请等待...5", {loading:{display:"inline"}});
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待..."+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);	
}
function transWaiting(){
	var w=plus.nativeUI.showWaiting("处理中，请等待...5", {style:"black",color:"#FF0000",background:"rgba(0,0,0,0)",loading:{display:"inline"}});
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待..."+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);	
}
function noneWaiting(){
	var w=plus.nativeUI.showWaiting("处理中，请等待...5", {color:"#FF0000",background:"rgba(0,0,0,0)",loading:{display:"none"}});
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待..."+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);	
}
function fontWaiting(){
	var w=plus.nativeUI.showWaiting("处理中，请等待...\n5",{color:"#FF0000",size:"24px"});
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待...\n"+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);	
}
function blockBackWaiting(){
	var w=plus.nativeUI.showWaiting("处理中，请等待...\n5",{back:"none"});
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待...\n"+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);	
	
}
function transBackWaiting(){
	var w=plus.nativeUI.showWaiting("处理中，请等待...\n5",{back:"transmit"});
	w.onclose=function(){
		clearInterval(t);
	}
	var n=5;
	var t=setInterval(function(){
		n--;
		w.setTitle("处理中，请等待...\n"+n);
		if(n<=0){
			w.close();
			clearInterval(t);
		}
	},1000);
}
		</script>
		<link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8"/>
	</head>
	<body>
		<header id="header">
			<div class="nvbt iback" onclick="back()"></div>
			<div class="nvtt">Waiting</div>
		</header>
		<div class="scontent">
			<ul class="dlist">
				<li class="ditem" onclick="defaultWaiting()">默认等待框</li>
				<li class="ditem" onclick="nomodalWaiting()">非模态等待框</li>
				<li class="ditem" onclick="padlockWaiting()">点击关闭等待框</li>
				<li class="ditem" onclick="customWaiting()">自定义图标等待框</li>
				<li class="ditem" onclick="lineWaiting()">图标与文字同行</li>
				<li class="ditem" onclick="transWaiting()">背景透明</li>
				<li class="ditem" onclick="noneWaiting()">无图标等待框</li>
				<li class="ditem" onclick="fontWaiting()">大字体等待框</li>
				<li class="ditem" onclick="blockBackWaiting()">不响应返回键等待框</li>
				<li class="ditem" onclick="transBackWaiting()">透传返回键等待框</li>
			</ul>
		</div>
	</body>
	<script type="text/javascript" src="../js/immersed.js" ></script>
</html>